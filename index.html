<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LIFF TEST</title>
        <script src = "https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
        
    </head>
    <body>
        <div style="color:#ff0000">LIFF TEST</div>
        <div id="UsrID">aaa</div>
        <div id="UsrName">bbb</div>
    </body>
    <script>
            var liffID = '2001636168-V2P6a0kL';
            liff.init({
              liffId: liffID
            }).then(function() {
                console.log('LIFF init');
                // 這邊開始寫使用其他功能
                // 引用 LIFF SDK 的頁面，頁面中的 lang 值
                // liff.getLanguage();
                // // LIFF SDK 的版本
                // liff.getVersion();
                // // 回傳是否由 LINE App 存取
                // liff.isInClient();
                // // 使用者是否登入 LINE 帳號
                // liff.isLoggedIn();
                // // 回傳使用者作業系統：ios、android、web
                // liff.getOS();
                // // 使用者的 LINE 版本
                // liff.getLineVersion();
                
                function displayLiffData() {
                    liff.getProfile().then(function(profile) {
                
                        // ? QueryString
                        let urlParams = new URLSearchParams(window.location.search);
                        let UsrID = profile.userId;
                        let UsrName = profile.displayName;
                        // let UsrPic = profile.pictureUrl;
                        // let rfvp = urlParams.get('rfvp');
                        // let rfmb = urlParams.get('rfmb');
                
                        document.getElementById('UsrID').textContent = UsrID;
                        document.getElementById('UsrName').textContent = UsrName;
                        // document.getElementById('UsrPic').textContent = UsrPic;
                        // document.getElementById('rfvp').textContent = rfvp; 
                        // document.getElementById('rfmb').textContent = rfmb; 
                        
                        // liff.closeWindow();
                    }).catch(function(error) {
                        window.alert('Error getting profile: ' + error);
                        liff.closeWindow();
                    });
                }
              
            }).catch(function(error) {
                console.log(error);
            });
        </script>
</html>
